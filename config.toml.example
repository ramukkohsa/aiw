# Unified AI Workspace Configuration â€” Template
# Copy this file to config.toml and fill in your machine-specific paths.
# Run: cp config.toml.example config.toml
# Then: bin/aiw-setup  (or edit config.toml manually)

[workspace]
name = "your-workspace-name"          # e.g. "jane-devops", "team-ml"
root = "/home/youruser/.ai-workspace" # Absolute path to this workspace
# wsl_root = "/home/youruser/.ai-workspace"  # Uncomment on WSL if root is a Windows path

[defaults]
editor = "code"      # $EDITOR override for brief/stuck commands
default_tool = "claude"
default_project = "my-project"

# -- AI Tool Definitions -------------------------------------------------------
# Each tool has a launch command, config target, and history source.

[tools.claude]
launch = "claude"
config_target = "CLAUDE.md"
history_source = "~/.claude/projects/*.jsonl"
adapter = "adapters/claude/generate.sh"

[tools.kilocode]
launch = "kilocode"
config_target = ".kilocode/rules/rules.md"
memory_bank = ".kilocode/rules/memory-bank/"
history_source = "~/.local/state/kilo/prompt-history.jsonl"
adapter = "adapters/kilocode/generate.sh"
sync_script = "adapters/kilocode/sync-memory-bank.sh"

# Model IDs use AWS Bedrock inference profiles by default.
# Requires: aws CLI v2 + credentials with bedrock:ListInferenceProfiles permission.
# Run `aiw models update` to auto-detect latest models from Bedrock.
# For direct Anthropic API, use: "anthropic/claude-sonnet-4-latest"
# For OpenRouter, use: "openrouter/anthropic/claude-sonnet-4"
[tools.kilocode.models]
arch = "amazon-bedrock/us.anthropic.claude-opus-4-6-v1"
code = "amazon-bedrock/us.anthropic.claude-sonnet-4-6"
quick = "amazon-bedrock/us.anthropic.claude-haiku-4-5-20251001-v1:0"
review = "amazon-bedrock/us.anthropic.claude-sonnet-4-5-20250929-v1:0"

[tools.kilocode.variants]
arch = "high"
code = ""
quick = "minimal"
review = ""

[tools.kilocode.auto_routing]
enabled = "true"
log_decisions = "true"
min_switch_margin = "10"
upgrade_margin = "20"
downgrade_margin = "10"
cross_tool_enabled = "true"
cross_tool_margin = "25"
claude_upgrade_margin = "30"

[tools.cline]
launch = "cline"
config_target = ".clinerules"
adapter = "adapters/cline/generate.sh"

[tools.codex]
launch = "codex"
config_target = "AGENTS.md"
history_source = "~/.codex/history.jsonl"
adapter = "adapters/codex/generate.sh"

[tools.ralph]
launch = "ralph"
config_target = "progress.md"
adapter = "adapters/ralph/sync-progress.sh"

# -- Project Definitions -------------------------------------------------------
# Add one section per project. Paths must be absolute.

[projects.my-project]
path = "/path/to/my-project"
context_overlay = "context/projects/my-project"
description = "Brief description of the project"
tags = ["tag1", "tag2"]

# [projects.another-project]
# path = "/path/to/another-project"
# context_overlay = "context/projects/another-project"
# description = "Another project description"
# tags = ["tag3"]

# -- Auto-Detection ------------------------------------------------------------

[auto_detect]
enabled = "true"
default_role = "code"
show_signals = "true"

[auto_detect.tool_routing]
enabled = "true"
cross_tool_margin = "25"
claude_upgrade_margin = "30"
interactive_prompt = "true"

# -- Skill Sources -------------------------------------------------------------
# Each source points to a directory of skills. Paths must be absolute.

[skills]
catalog = "skills/catalog.json"

[skills.marketplaces]
pdi_ado = "https://pdidev.visualstudio.com/PDI%20World/_git/pdi-claude-skills-market"
anthropic = "https://github.com/anthropics/skills/tree/main/skills"
smithery = "https://smithery.ai/skills"
skillsllm = "https://skillsllm.com/"
skillsmp = "https://skillsmp.com/"

[skills.sources.plugins]
path = "/path/to/.claude/skills/.claude-plugin"   # Claude plugin skills (git repo)
type = "claude-plugin"
symlink = "skills/plugins"

[skills.sources.ralph]
path = "/path/to/.agents/skills"                   # Ralph TUI skills
type = "ralph-skill"
symlink = "skills/ralph"

[skills.sources.project-skills]
path = "/path/to/project/.claude/skills"           # Project-level skills
type = "claude-project"

# -- History -------------------------------------------------------------------

[history]
retention_days = 90
compress_after_days = 90
cleanup_generated_days = 30
